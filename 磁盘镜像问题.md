文件：image/rules.mk

```makefile
BASE_IMAGE := $(d)output-base/base
MEMCACHED_IMAGE := $(d)output-memcached/memcached
NOPAXOS_IMAGE := $(d)output-nopaxos/nopaxos
MTCP_IMAGE := $(d)output-mtcp/mtcp
TAS_IMAGE := $(d)output-tas/tas
```

源码中出现了多个磁盘镜像，分别对应不同的应用（但是他们提供的 docker 镜像中只有 output-base/base 一个镜像，其他几个根本没有，所以对应的实验也运行不了）：

- base：基础网络性能测试，不需要手动添加任何benchmark
- memcached
- nopaxos
- mtcp
- tas



文件：experiment/simbricks/orchestration/experiment/experiment_environment.py

```python
    def hd_raw_path(self, hd_name_or_path: str) -> str:
        if ExpEnv.is_absolute_exists(hd_name_or_path):
            return f'{hd_name_or_path}.raw'
        return (
            f'{self.repodir}/images/output-{hd_name_or_path}/'
            f'{hd_name_or_path}.raw'
        )
```

为不同的磁盘镜像定义了“环境变量”（不是真的环境变量），为了在gem5启动时寻找到不同磁盘镜像的路径



文件：experiment/simbricks/orchestration/simulators.py

在软件项目中，`orchestration` 作为文件夹名称通常与**协调多个服务、任务或流程的自动化管理**相关

```python
class Gem5Host(HostSim):
    """Gem5 host simulator."""
    ...
        def run_cmd(self, env: ExpEnv) -> str:
        cpu_type = self.cpu_type
        if env.create_cp:
            cpu_type = self.cpu_type_cp

        cmd = f'{env.gem5_path(self.variant)} --outdir={env.gem5_outdir(self)} '
        cmd += ' '.join(self.extra_main_args)
        cmd += (
            f' {env.gem5_py_path} --caches --l2cache '
            '--l1d_size=32kB --l1i_size=32kB --l2_size=32MB '
            '--l1d_assoc=8 --l1i_assoc=8 --l2_assoc=16 '
            f'--cacheline_size=64 --cpu-clock={self.cpu_freq}'
            f' --sys-clock={self.sys_clock} '
            f'--checkpoint-dir={env.gem5_cpdir(self)} '
            f'--kernel={env.gem5_kernel_path} '
            f'--disk-image={env.hd_raw_path(self.node_config.disk_image)} '
            f'--disk-image={env.cfgtar_path(self)} '
            f'--cpu-type={cpu_type} --mem-size={self.node_config.memory}MB '
            f'--num-cpus={self.node_config.cores} '
            '--mem-type=DDR4_2400_16x4 '
        )
```

在启动 gem5 的指令中，指定磁盘镜像路径，使用到了上面文件中定义的不同镜像的"环境变量"

（nodeconfig 中的参数指定了使用哪个镜像，env.hd_raw_path 根据这个镜像拼接出对应路径的字符串）

